<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bbs.demo.dao.AccessoryMapper">
<!--
    <resultMap type="com.bbs.demo.pojo.Accessory" id="AccessoryMap">
        <result property="accessoryId" column="accessoryId" jdbcType="INTEGER"/>
        <result property="uid" column="uid" jdbcType="INTEGER"/>
        <result property="accessorySize" column="accessorySize" jdbcType="NUMERIC"/>
        <result property="accessory" column="accessory" jdbcType="OTHER"/>
        <result property="accessoryDate" column="accessory_date" jdbcType="TIMESTAMP"/>
    </resultMap>

    &lt;!&ndash;查询单个&ndash;&gt;
    <select id="queryById" resultMap="AccessoryMap">
        select
          accessoryId, uid, accessorySize, accessory, accessory_date
        from bbs.accessory
        where accessoryId = #{accessoryid}
    </select>

    &lt;!&ndash;查询指定行数据&ndash;&gt;
    <select id="queryAllByLimit" resultMap="AccessoryMap">
        select
          accessoryId, uid, accessorySize, accessory, accessory_date
        from bbs.accessory
        limit #{offset}, #{limit}
    </select>

    &lt;!&ndash;通过实体作为筛选条件查询&ndash;&gt;
    <select id="queryAll" resultMap="AccessoryMap">
        select
        accessoryId, uid, accessorySize, accessory, accessory_date
        from bbs.accessory
        <where>
            <if test="accessoryid != null">
                and accessoryId = #{accessoryid}
            </if>
            <if test="uid != null">
                and uid = #{uid}
            </if>
            <if test="accessorysize != null">
                and accessorySize = #{accessorysize}
            </if>
            <if test="accessory != null">
                and accessory = #{accessory}
            </if>
            <if test="accessoryDate != null">
                and accessory_date = #{accessoryDate}
            </if>
        </where>
    </select>

    &lt;!&ndash;新增所有列&ndash;&gt;
    <insert id="insert" keyProperty="accessoryid" useGeneratedKeys="true">
        insert into bbs.accessory(uid, accessorySize, accessory, accessory_date)
        values (#{uid}, #{accessorysize}, #{accessory}, #{accessoryDate})
    </insert>

    &lt;!&ndash;通过主键修改数据&ndash;&gt;
    <update id="update">
        update bbs.accessory
        <set>
            <if test="uid != null">
                uid = #{uid},
            </if>
            <if test="accessorysize != null">
                accessorySize = #{accessorysize},
            </if>
            <if test="accessory != null">
                accessory = #{accessory},
            </if>
            <if test="accessoryDate != null">
                accessory_date = #{accessoryDate},
            </if>
        </set>
        where accessoryId = #{accessoryid}
    </update>

    &lt;!&ndash;通过主键删除&ndash;&gt;
    <delete id="deleteById">
        delete from bbs.accessory where accessoryId = #{accessoryid}
    </delete>-->

</mapper>